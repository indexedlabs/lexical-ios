{"id":"lexical-ios-7nk","title":"Platform: expand AppKit/UIKit test coverage","description":"Track missing AppKit/UIKit-specific tests: clipboard (copy/cut/paste), NSTextInputClient/IME, undo/redo integration, and cross-platform AttributeUtils parity.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-15T13:59:32.609709-08:00","updated_at":"2025-12-15T20:24:33.649123-08:00","closed_at":"2025-12-15T20:24:33.649123-08:00","close_reason":"All subtasks are closed (clipboard, IME marked-text, undo/redo, AttributeUtils parity, deletion direction, Tab/Backtab, paste enablement)","labels":["appkit","tests","uikit"]}
{"id":"lexical-ios-7nk.1","title":"AppKit clipboard: implement Lexical nodes + rich text pasteboard support","description":"Implement AppKit copy/cut/paste to match UIKit behavior: set Lexical node JSON (e.g. 'x-lexical-nodes') + RTF + plain text on NSPasteboard; paste should prefer Lexical nodes when present, otherwise fallback to RTF/plain text. Likely touch Lexical/Core/Events.swift (setPasteboardAppKit / insertDataTransferForRichTextAppKit) and/or Sources/LexicalAppKit/CopyPasteHelpers.swift.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T13:59:49.784126-08:00","updated_at":"2025-12-15T14:20:43.211581-08:00","closed_at":"2025-12-15T14:20:43.211581-08:00","close_reason":"Implemented AppKit pasteboard support (Lexical nodes + RTF/plain fallback)","labels":["appkit","clipboard","tests"],"dependencies":[{"issue_id":"lexical-ios-7nk.1","depends_on_id":"lexical-ios-7nk","type":"parent-child","created_at":"2025-12-15T13:59:49.784627-08:00","created_by":"daemon"}]}
{"id":"lexical-ios-7nk.2","title":"AppKit clipboard: add NSPasteboard copy/cut/paste tests","description":"Add macOS-only tests verifying AppKit clipboard behavior: copy/cut write expected text and Lexical-node payload to a unique NSPasteboard; paste round-trips nodes when available and falls back to RTF/plain text. Mirror LexicalTests/Tests/TextViewTests.swift custom-pasteboard approach.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T13:59:58.936785-08:00","updated_at":"2025-12-15T14:23:45.903262-08:00","closed_at":"2025-12-15T14:23:45.903262-08:00","close_reason":"Added macOS-only NSPasteboard clipboard tests","labels":["appkit","clipboard","tests"],"dependencies":[{"issue_id":"lexical-ios-7nk.2","depends_on_id":"lexical-ios-7nk","type":"parent-child","created_at":"2025-12-15T13:59:58.937179-08:00","created_by":"daemon"},{"issue_id":"lexical-ios-7nk.2","depends_on_id":"lexical-ios-7nk.1","type":"blocks","created_at":"2025-12-15T13:59:58.937931-08:00","created_by":"daemon"}]}
{"id":"lexical-ios-7nk.3","title":"AppKit: add NSTextInputClient/IME marked-text tests","description":"Add macOS-only tests for TextViewAppKit marked text lifecycle: setMarkedText updates editor state correctly, unmarkText commits, replacementRange handling works, and selection stays consistent. Target Sources/LexicalAppKit/TextView+NSTextInputClient.swift; consider using LexicalTests/Helpers/CrossPlatformTestHelpers.swift (TestEditorView.setMarkedText/unmarkText).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T14:00:10.636171-08:00","updated_at":"2025-12-15T17:54:21.836336-08:00","closed_at":"2025-12-15T17:54:21.836336-08:00","close_reason":"Added marked-text editor-state tests and AppKit marked-text integration plumbing","labels":["appkit","ime","tests"],"dependencies":[{"issue_id":"lexical-ios-7nk.3","depends_on_id":"lexical-ios-7nk","type":"parent-child","created_at":"2025-12-15T14:00:10.636563-08:00","created_by":"daemon"}]}
{"id":"lexical-ios-7nk.4","title":"AppKit: add undo/redo integration tests for TextViewAppKit","description":"Implemented AppKit undo/redo wiring: TextViewAppKit now caches canUndo/canRedo via commands, overrides undo/redo to dispatch Lexical history commands, and validates menu items accordingly. Added macOS-only tests in LexicalTests/Tests/AppKitUndoRedoIntegrationTests.swift. iOS validation: Playground build OK; full iOS test suite currently failing (29 baseline failures), so leaving issue in_progress.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T14:00:21.363777-08:00","updated_at":"2025-12-15T17:54:21.33041-08:00","closed_at":"2025-12-15T17:54:21.33041-08:00","close_reason":"Undo/redo integration + tests landed; iOS simulator suite + Playground build pass","labels":["appkit","tests","undo"],"dependencies":[{"issue_id":"lexical-ios-7nk.4","depends_on_id":"lexical-ios-7nk","type":"parent-child","created_at":"2025-12-15T14:00:21.364144-08:00","created_by":"daemon"}]}
{"id":"lexical-ios-7nk.5","title":"AppKit: add AttributeUtils coverage (NSFont traits + paragraph style)","description":"Added macOS-only AttributeUtils tests covering NSFont family/size overrides, bold/italic traits, and paragraphStyle keys. New file: LexicalTests/Tests/AttributesUtilsAppKitTests.swift. iOS validation: Playground build OK; full iOS test suite currently failing (29 baseline failures), so leaving issue in_progress.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T14:00:30.27508-08:00","updated_at":"2025-12-15T17:54:21.585473-08:00","closed_at":"2025-12-15T17:54:21.585473-08:00","close_reason":"AttributeUtils AppKit coverage added; iOS simulator suite + Playground build pass","labels":["appkit","attributes","tests"],"dependencies":[{"issue_id":"lexical-ios-7nk.5","depends_on_id":"lexical-ios-7nk","type":"parent-child","created_at":"2025-12-15T14:00:30.275458-08:00","created_by":"daemon"}]}
{"id":"lexical-ios-7nk.6","title":"AppKit: forward delete/word/line should respect direction","description":"Fixed registerRichTextAppKit to respect isBackwards payloads for .deleteCharacter/.deleteWord/.deleteLine (forward deletion now works). Added macOS-only tests in LexicalTests/Tests/AppKitDeletionDirectionTests.swift. iOS validation: Playground build OK; full iOS test suite currently failing (29 baseline failures), so leaving issue in_progress.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T14:44:42.125474-08:00","updated_at":"2025-12-15T17:54:21.708651-08:00","closed_at":"2025-12-15T17:54:21.708651-08:00","close_reason":"Forward delete direction fix + tests added; iOS simulator suite + Playground build pass","labels":["appkit","keyboard","tests"],"dependencies":[{"issue_id":"lexical-ios-7nk.6","depends_on_id":"lexical-ios-7nk","type":"parent-child","created_at":"2025-12-15T14:44:42.125926-08:00","created_by":"daemon"}]}
{"id":"lexical-ios-7nk.7","title":"AppKit: implement Tab/Backtab key handling","description":"Updated TextViewAppKit Tab/Backtab to dispatch .indentContent/.outdentContent (instead of unused .keyTab). Added macOS-only tests in LexicalTests/Tests/AppKitTabBacktabTests.swift. iOS validation: Playground build OK; full iOS test suite currently failing (29 baseline failures), so leaving issue in_progress.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T14:44:50.189081-08:00","updated_at":"2025-12-15T17:54:21.462006-08:00","closed_at":"2025-12-15T17:54:21.462006-08:00","close_reason":"Tab/Backtab handling + tests added; iOS simulator suite + Playground build pass","labels":["appkit","keyboard","tests"],"dependencies":[{"issue_id":"lexical-ios-7nk.7","depends_on_id":"lexical-ios-7nk","type":"parent-child","created_at":"2025-12-15T14:44:50.189439-08:00","created_by":"daemon"}]}
{"id":"lexical-ios-7nk.8","title":"Clipboard: prefer Lexical nodes over RTF when both present (decorator round-trip)","description":"Add a serializable decorator node fixture and clipboard tests that prove paste prefers Lexical node JSON over RTF when both are present (round-trips decorator), and falls back to RTF without recreating decorator nodes.","acceptance_criteria":"- New clipboard tests cover Lexical-vs-RTF preference using a decorator node fixture\\n- iOS simulator test suite passes (Lexical-Package scheme)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T17:34:12.600486-08:00","updated_at":"2025-12-15T17:54:03.755867-08:00","closed_at":"2025-12-15T17:54:03.755867-08:00","close_reason":"Implemented decorator clipboard preference tests; iOS suite + Playground build pass","labels":["appkit","clipboard","pasteboard","tests","uikit"],"dependencies":[{"issue_id":"lexical-ios-7nk.8","depends_on_id":"lexical-ios-7nk","type":"parent-child","created_at":"2025-12-15T17:34:12.603377-08:00","created_by":"daemon"}]}
{"id":"lexical-ios-7nk.9","title":"UIKit: add canPerformAction(paste) tests (Lexical nodes/RTF/plain)","description":"Add UIKit tests for TextView.canPerformAction(.paste:) covering Lexical nodes payload, RTF payload, and UTF8/plain payload. Update canPerformAction to explicitly allow paste when RTF is present.","acceptance_criteria":"- New unit tests cover paste enablement for Lexical nodes, RTF, and plain text\\n- iOS simulator test suite passes (Lexical-Package scheme)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T17:34:12.738898-08:00","updated_at":"2025-12-15T17:54:03.654341-08:00","closed_at":"2025-12-15T17:54:03.654341-08:00","close_reason":"Added paste canPerformAction tests + RTF enablement; iOS suite + Playground build pass","labels":["paste","tests","uikit"],"dependencies":[{"issue_id":"lexical-ios-7nk.9","depends_on_id":"lexical-ios-7nk","type":"parent-child","created_at":"2025-12-15T17:34:12.739246-08:00","created_by":"daemon"}]}
{"id":"lexical-ios-7w8","title":"Tests: expand AppKit/UIKit platform coverage","description":"Track missing AppKit/UIKit-specific tests: clipboard (copy/cut/paste), NSTextInputClient/IME, undo/redo integration, and cross-platform AttributeUtils parity.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-15T13:59:12.901881-08:00","updated_at":"2025-12-15T14:01:10.790274-08:00","closed_at":"2025-12-15T14:01:10.790274-08:00","close_reason":"Duplicate (created accidentally; use lexical-ios-7nk)","labels":["appkit","tests","uikit"]}
{"id":"lexical-ios-r06","title":"LexicalLinkPlugin: add LexicalAppKit dependency on macOS","description":"Context (from indexed-ycu.5):\n- indexed RichText wants to enable LexicalLinkPlugin / LexicalAutoLinkPlugin on macOS.\n- Today, macOS consumers fail because LexicalLinkPlugin imports LexicalAppKit but the LexicalLinkPlugin target does not declare LexicalAppKit as a dependency.\n\nWhere:\n- Plugins/LexicalLinkPlugin/LexicalLinkPlugin/LinkPlugin.swift contains:\n  #elseif os(macOS)\n  import AppKit\n  import LexicalAppKit\n- Package.swift: target \"LexicalLinkPlugin\" dependencies currently only include \"Lexical\" (missing LexicalAppKit for macOS).\n\nFix:\n- Update Package.swift so target \"LexicalLinkPlugin\" depends on LexicalAppKit when platform is macOS (e.g. add .target(name: \"LexicalAppKit\", condition: .when(platforms: [.macOS])) to the dependencies list).\n\nValidation:\n- Consumer-driven (recommended): in indexed repo, remove the workaround that disables LexicalLinkPlugin on macOS and confirm:\n  - cd ios/Index/LocalPackages/RichText \u0026\u0026 swift build\n  - cd ios/Index/LocalPackages/RichText \u0026\u0026 swift test\n- Lexical regression: run the standard iOS-simulator test command for this repo (Lexical-Package scheme).","acceptance_criteria":"- LexicalLinkPlugin compiles on macOS when imported\\n- indexed RichText can enable LexicalLinkPlugin on macOS (swift build/test)\\n- iOS simulator tests still pass","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T16:34:00.565462-08:00","updated_at":"2025-12-15T20:24:29.155811-08:00","closed_at":"2025-12-15T20:24:29.155811-08:00","close_reason":"Added macOS-only LexicalAppKit dependency for LexicalLinkPlugin target; iOS simulator test suite + Playground build pass (macOS consumer build not run here)","external_ref":"indexed-ycu.5"}
{"id":"lexical-ios-wfq","title":"Audit and remove emoji-prefixed debug logs","description":"Search for leftover debug logging thatâ€™s prefixed with emojis (e.g. ðŸ”¥) in app/library code and remove it (or gate behind verbose logging/DEBUG where appropriate).\\n\\nInitial grep: there are ðŸ”¥ prints in e.g. Playground/LexicalPlayground/ToolbarPlugin.swift, Lexical/LexicalView/LexicalView.swift, Lexical/Core/Selection/RangeSelection.swift, Sources/LexicalAppKit/*, Lexical/Helper/ReconcilerShadowCompare.swift.","acceptance_criteria":"No emoji-prefixed debug logs remain in production code (Playground/, Lexical/, Plugins/, Sources/) unless explicitly gated for diagnostics. iOS Simulator tests (Lexical-Package) and Playground build both pass.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T17:28:07.876511-08:00","updated_at":"2025-12-15T20:24:21.680267-08:00","closed_at":"2025-12-15T20:24:21.680267-08:00","close_reason":"Removed emoji-prefixed debug logs/print statements; iOS simulator test suite + Playground build pass"}
